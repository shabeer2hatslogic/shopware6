(this["webpackJsonpPluginswag-pay-pal"]=this["webpackJsonpPluginswag-pay-pal"]||[]).push([[23],{"5B6j":function(e,n,t){"use strict";t.r(n);n.default=Shopware.Component.wrapComponentConfig({template:'{% block swag_paypal_content_card_channel_config_credentials %}\n<sw-card\n    position-identifier="swag-paypal-credentials"\n    :title="$tc(\'swag-paypal.settingForm.credentials.cardTitle\')"\n>\n\n    {% block swag_paypal_content_card_channel_config_credentials_card_container %}\n    <sw-container>\n\n        {% block swag_paypal_content_card_channel_config_credentials_card_container_settings %}\n        <div v-if="actualConfigData" class="swag-paypal-settings-credentials-fields">\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_client_id %}\n            <sw-inherit-wrapper\n                {% if VUE3 %}\n                v-model:value="actualConfigData[\'SwagPayPal.settings.clientId\']"\n                {% else %}\n                v-model="actualConfigData[\'SwagPayPal.settings.clientId\']"\n                {% endif %}\n                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.clientId\']"\n                :customInheritationCheckFunction="checkTextFieldInheritance"\n            >\n                <template #content="props">\n                    <sw-text-field\n                        name="SwagPayPal.settings.clientId"\n                        :mapInheritance="props"\n                        :label="$tc(\'swag-paypal.settingForm.credentials.clientId.label\')"\n                        :helpText="$tc(\'swag-paypal.settingForm.credentials.clientId.tooltipText\')"\n                        :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                        :value="props.currentValue"\n                        :error="clientIdErrorState"\n                        {% if VUE3 %}\n                        @update:value="props.updateCurrentValue"\n                        {% else %}\n                        @change="props.updateCurrentValue"\n                        @input="props.updateCurrentValue"\n                        {% endif %}\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_client_secret %}\n            <sw-inherit-wrapper\n                {% if VUE3 %}\n                v-model:value="actualConfigData[\'SwagPayPal.settings.clientSecret\']"\n                {% else %}\n                v-model="actualConfigData[\'SwagPayPal.settings.clientSecret\']"\n                {% endif %}\n                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.clientSecret\']"\n                :customInheritationCheckFunction="checkTextFieldInheritance"\n            >\n                <template #content="props">\n                    <sw-text-field\n                        name="SwagPayPal.settings.clientSecret"\n                        :mapInheritance="props"\n                        :label="$tc(\'swag-paypal.settingForm.credentials.clientSecret.label\')"\n                        :helpText="$tc(\'swag-paypal.settingForm.credentials.clientSecret.tooltipText\')"\n                        :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                        :value="props.currentValue"\n                        :error="clientSecretErrorState"\n                        {% if VUE3 %}\n                        @update:value="props.updateCurrentValue"\n                        {% else %}\n                        @input="props.updateCurrentValue"\n                        @change="props.updateCurrentValue"\n                        {% endif %}\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_merchant_id %}\n            <sw-inherit-wrapper\n                {% if VUE3 %}\n                v-model:value="actualConfigData[\'SwagPayPal.settings.merchantPayerId\']"\n                {% else %}\n                v-model="actualConfigData[\'SwagPayPal.settings.merchantPayerId\']"\n                {% endif %}\n                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.merchantPayerId\']"\n                :customInheritationCheckFunction="checkTextFieldInheritance"\n            >\n                <template #content="props">\n                    <sw-text-field\n                        name="SwagPayPal.settings.merchantPayerId"\n                        :mapInheritance="props"\n                        :label="$tc(\'swag-paypal.settingForm.credentials.merchantPayerId.label\')"\n                        :helpText="$tc(\'swag-paypal.settingForm.credentials.merchantPayerId.tooltipText\')"\n                        :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                        :value="props.currentValue"\n                        {% if VUE3 %}\n                        @update:value="props.updateCurrentValue"\n                        {% else %}\n                        @change="props.updateCurrentValue"\n                        {% endif %}\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_actions_test %}\n            <sw-button-process\n                {% if VUE3 %}\n                v-model:processSuccess="isTestLiveSuccessful"\n                {% else %}\n                v-model="isTestLiveSuccessful"\n                {% endif %}\n                class="swag-paypal-settings-credentials-fields__test-button"\n                :isLoading="isTestingLive"\n                :disabled="testLiveButtonDisabled"\n                @click="onTest(false)"\n            >\n                {{ $tc(\'swag-paypal.settingForm.testLive\') }}\n            </sw-button-process>\n            {% endblock %}\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_sandbox %}\n            <sw-inherit-wrapper\n                {% if VUE3 %}\n                v-model:value="actualConfigData[\'SwagPayPal.settings.sandbox\']"\n                {% else %}\n                v-model="actualConfigData[\'SwagPayPal.settings.sandbox\']"\n                {% endif %}\n                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.sandbox\']"\n                :customInheritationCheckFunction="checkBoolFieldInheritance"\n            >\n                <template #content="props">\n                    <sw-switch-field\n                        name="SwagPayPal.settings.sandbox"\n                        :mapInheritance="props"\n                        :label="$tc(\'swag-paypal.settingForm.credentials.sandbox.label\')"\n                        :helpText="$tc(\'swag-paypal.settingForm.credentials.sandbox.tooltipText\')"\n                        :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                        :value="props.currentValue"\n                        {% if VUE3 %}\n                        @update:value="props.updateCurrentValue"\n                        {% else %}\n                        @change="props.updateCurrentValue"\n                        {% endif %}\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_client_id_sandbox %}\n            <sw-inherit-wrapper\n                {% if VUE3 %}\n                v-model:value="actualConfigData[\'SwagPayPal.settings.clientIdSandbox\']"\n                {% else %}\n                v-model="actualConfigData[\'SwagPayPal.settings.clientIdSandbox\']"\n                {% endif %}\n                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.clientIdSandbox\']"\n                :customInheritationCheckFunction="checkTextFieldInheritance"\n            >\n                <template #content="props">\n                    <sw-text-field\n                        name="SwagPayPal.settings.clientIdSandbox"\n                        :mapInheritance="props"\n                        :label="$tc(\'swag-paypal.settingForm.credentials.clientIdSandbox.label\')"\n                        :helpText="$tc(\'swag-paypal.settingForm.credentials.clientIdSandbox.tooltipText\')"\n                        :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                        :value="props.currentValue"\n                        :error="clientIdSandboxErrorState"\n                        {% if VUE3 %}\n                        @update:value="props.updateCurrentValue"\n                        {% else %}\n                        @change="props.updateCurrentValue"\n                        @input="props.updateCurrentValue"\n                        {% endif %}\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_client_secret_sandbox %}\n            <sw-inherit-wrapper\n                {% if VUE3 %}\n                v-model:value="actualConfigData[\'SwagPayPal.settings.clientSecretSandbox\']"\n                {% else %}\n                v-model="actualConfigData[\'SwagPayPal.settings.clientSecretSandbox\']"\n                {% endif %}\n                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.clientSecretSandbox\']"\n                :customInheritationCheckFunction="checkTextFieldInheritance"\n            >\n                <template #content="props">\n                    <sw-text-field\n                        name="SwagPayPal.settings.clientSecretSandbox"\n                        :mapInheritance="props"\n                        :label="$tc(\'swag-paypal.settingForm.credentials.clientSecretSandbox.label\')"\n                        :helpText="$tc(\'swag-paypal.settingForm.credentials.clientSecretSandbox.tooltipText\')"\n                        :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                        :value="props.currentValue"\n                        :error="clientSecretSandboxErrorState"\n                        {% if VUE3 %}\n                        @update:value="props.updateCurrentValue"\n                        {% else %}\n                        @change="props.updateCurrentValue"\n                        @input="props.updateCurrentValue"\n                        {% endif %}\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_merchant_id_sandbox %}\n            <sw-inherit-wrapper\n                {% if VUE3 %}\n                        @update:value="props.updateCurrentValue"\n                v-model:value="actualConfigData[\'SwagPayPal.settings.merchantPayerIdSandbox\']"\n                {% else %}\n                v-model="actualConfigData[\'SwagPayPal.settings.merchantPayerIdSandbox\']"\n                {% endif %}\n                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'SwagPayPal.settings.merchantPayerIdSandbox\']"\n                :customInheritationCheckFunction="checkTextFieldInheritance"\n            >\n                <template #content="props">\n                    <sw-text-field\n                        name="SwagPayPal.settings.merchantPayerIdSandbox"\n                        :mapInheritance="props"\n                        :label="$tc(\'swag-paypal.settingForm.credentials.merchantPayerIdSandbox.label\')"\n                        :helpText="$tc(\'swag-paypal.settingForm.credentials.merchantPayerIdSandbox.tooltipText\')"\n                        :disabled="props.isInherited || !acl.can(\'swag_paypal.editor\')"\n                        :value="props.currentValue"\n                        {% if VUE3 %}\n                        @update:value="props.updateCurrentValue"\n                        {% else %}\n                        @change="props.updateCurrentValue"\n                        {% endif %}\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            {% block swag_paypal_content_card_channel_config_credentials_card_container_settings_actions_test_sandbox %}\n            <sw-button-process\n                {% if VUE3 %}\n                v-model:processSuccess="isTestSandboxSuccessful"\n                {% else %}\n                v-model="isTestSandboxSuccessful"\n                {% endif %}\n                :isLoading="isTestingSandbox"\n                :disabled="testSandboxButtonDisabled"\n                @click="onTest(true)"\n            >\n                {{ $tc(\'swag-paypal.settingForm.testSandbox\') }}\n            </sw-button-process>\n            {% endblock %}\n        </div>\n        {% endblock %}\n    </sw-container>\n    {% endblock %}\n</sw-card>\n{% endblock %}\n',inject:["acl","SwagPayPalApiCredentialsService"],mixins:[Shopware.Mixin.getByName("swag-paypal-notification")],props:{actualConfigData:{type:Object,required:!0,default:function(){return{}}},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{type:String,required:!1,default:null},clientIdErrorState:{type:Object,required:!1,default:null},clientSecretErrorState:{type:Object,required:!1,default:null},clientIdSandboxErrorState:{type:Object,required:!1,default:null},clientSecretSandboxErrorState:{type:Object,required:!1,default:null},clientIdFilled:{type:Boolean,required:!0},clientSecretFilled:{type:Boolean,required:!0},clientIdSandboxFilled:{type:Boolean,required:!0},clientSecretSandboxFilled:{type:Boolean,required:!0},isLoading:{type:Boolean,required:!0}},data:function(){return{isTestingLive:!1,isTestingSandbox:!1,isTestLiveSuccessful:!1,isTestSandboxSuccessful:!1}},computed:{testLiveButtonDisabled:function(){return this.isLoading||!this.clientSecretFilled||!this.clientIdFilled||this.isTestingLive},testSandboxButtonDisabled:function(){return this.isLoading||!this.clientSecretSandboxFilled||!this.clientIdSandboxFilled||this.isTestingSandbox}},methods:{checkTextFieldInheritance:function(e){return"string"!=typeof e||e.length<=0},checkBoolFieldInheritance:function(e){return"boolean"!=typeof e},onTest:function(e){var n,t,a=this;e?this.isTestingSandbox=!0:this.isTestingLive=!0;var l=e?"Sandbox":"",i=this.actualConfigData["SwagPayPal.settings.clientId".concat(l)]||(null===(n=this.allConfigs)||void 0===n?void 0:n.null["SwagPayPal.settings.clientId".concat(l)]),s=this.actualConfigData["SwagPayPal.settings.clientSecret".concat(l)]||(null===(t=this.allConfigs)||void 0===t?void 0:t.null["SwagPayPal.settings.clientSecret".concat(l)]);this.SwagPayPalApiCredentialsService.validateApiCredentials(i,s,e).then((function(n){!0===n.credentialsValid&&(e?(a.isTestingSandbox=!1,a.isTestSandboxSuccessful=!0):(a.isTestingLive=!1,a.isTestLiveSuccessful=!0))})).catch((function(n){a.createNotificationFromError({errorResponse:n,title:"swag-paypal.settingForm.messageTestError"}),e?(a.isTestingSandbox=!1,a.isTestSandboxSuccessful=!1):(a.isTestingLive=!1,a.isTestLiveSuccessful=!1)}))}}})}}]);